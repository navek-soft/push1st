# channels configuration section
server:
    proto: [pusher, mqtt, websocket ]       # enabled proto
    threads: 2                  # number of worker threads
    max-request-payload: 65400  # global max request payload length less or equal 65400

cluster:
#    listen: disable # udp://<host>:<port>, multicast://<multicast-group-address>:<port>/<bind-iface-ip-address>
    listen: udp://*:8001 # strongly recommended bind to internal IP or close port with iptables
    node: 1000
    family:
        - 1000: localhost
        - 1001: node1.beam.local
        - 1002: node2.beam.local
    sync: [session,stat,health]

ssl:
    - &default-ssl
      key: "ssl private key"
      cert: "ssl cert"

# pusher configuration section
pusher:
    listen: tcp://*:6001   # false, tcp://<host>:<port>/path
    path: /app/
    activity-timeout: 20    # pusher activity timeout (pusher ping\pong) N seconds 
    ssl: { enable: false, *default-ssl }

websocket:
    listen: tcp://*:7001   # false, [ tcp://<host>:<port>/path ]
    path: /app/
    activity-timeout: 3600    # ws activity timeout (pusher ping\pong) N seconds 
    ssl: { enable: false, *default-ssl }

api:
    keep-alive-timeout: 10          # http api keep-alive connection timeout
    interface: pusher
    ssl: { enable: false, *default-ssl }
    path: /apps/
    listen: [ tcp://*:6002/, unix://opt/naveksoft/beam-server/beam.api ]

credentials: 
    - apps/*.yml
